{% extends "../layouts/base.html.twig" %}

{% block title %}
	<p>Page d'accueil Bienvenue, {{ user.firstName }}</p>
{% endblock %}

{% block main %}
	<main>
		<section>
			<div>
				<h2>Ajout d'un ordinateur</h2>
			</div>
			<div>
				<form action="/addOrdinateur" method="post">
					<div>
						<label for="adressMac">Adresse Mac de votre Ordinateur</label>
						<input id="adressMac" type="text" name="adressMac" value="{% if ordinateur %}{{ ordinateur.adressMac }}{% endif %}" required>
					</div>
					<div>
						<button type="submit">Ajouter</button>
					</div>
				</form>
			</div>
		</section>

		{% if ordinateurs|length > 0 %}
			<section>
				<h2>Liste des ordinateurs</h2>
				{% for ordinateur in ordinateurs %}
					<div>
						<h3>Adresse MAC : {{ ordinateur.adressMac }}</h3>
						<a href="/ordinateur/{{ ordinateur.id }}">Voir l'employé(e) associé</a>
						<a href="/deleteOrdinateur/{{ ordinateur.id }}">Supprimer</a>
					</div>
				{% endfor %}
			</section>
		{% else %}
			<p>Aucun ordinateur n'est encore ajouté.</p>
		{% endif %}

		{% if employes|length > 0 %}
			<section>
				<h2>Liste des Employés</h2>
				{% for employe in employes %}
					<div>
						<h3>{{ employe.nom }} {{ employe.prenom }}</h3>
						<p>Email : {{ employe.email }}</p>
						<p>Âge : {{ employe.age }}</p>
						<p>Genre : {{ employe.genre }}</p>
						<a href="/editEmploye/{{ employe.id }}">Modifier</a>
						<a href="/deleteEmploye/{{ employe.id }}">X</a>
					</div>
				{% endfor %}
			</section>
		{% endif %}
	</main>
{% endblock %}
